gitのセットアップ

とりあえず使えるまでに必要なこと

1.gitのインストール
2.gitの設定
3.レポジトリの複製
4.変更の読み込みおよび変更のコミット
5.gitについて

それぞれの項目について以下で詳しく説明します


1.下のページを参考にバージョンが1.7.10以上のgitをインストールする。バージョンはコマンドラインで git --version で調べられる。
git-1.7.10.tar.gzはググれば見つかるはず(https://code.google.com/p/git-core/downloads/listにありました)。
guiはまだ使ってみていないので分からないが、使いやすそうなら使ってもいいかも

http://www8.atwiki.jp/git_jp/pages/24.html 

因みに俺の場合、最初パッケージからインストールした後、バージョンの関係でソースからインストールしなおしたときに、最初にインストールしたgitが
/usr/bin/git、次にインストールしたgitが/usr/local/bin/gitで、最初にインストールしたほうが優先されてしまっていたので 
cp /usr/local/bin/git /usr/bin/gitとした


2.下のページを参考に設定を行う。最後はtimeoutまで設定する必要はない。
また、メールアドレスはgithubのアカウントを登録するときに使ったメールアドレスを使ってください。

https://help.github.com/articles/set-up-git


3.適当な場所で

git clone https://github.com/cpumul4/cpuex.git

と実行するとcpuexというディレクトリができていていて、既にgithubにあげられているファイルもそこに全てコピーされているはずである。
そうしたらcpuexに移動して

git remote add origin https://github.com/cpumul4/cpuex.git

を実行する。


4.変更点を全てgithubに反映するときはcommitコマンドとpushコマンドを使います。

git commit -am "コメント"
git push -u origin master

originは3で設定したようにurlを表していて、masterは手元のディレクトリのことを表していると考えても問題ないと思われます。

githubにあげられた変更点を読み込むときは、pullコマンドを使います。

git pull

※これは個人的な見解ですが、コミットする前に一時的に編集したファイルを保存しておいて、pullをしてからコミットした方がいいように思えます。
同じファイルを複数の人が編集する可能性がある時は別ですが、基本的に役割分担してあるのでそうした方が無用な競合を避けられると思います。
gitにも競合した場合の機能があるかもしれませんが、競合自体を起こさないにこしたことはないと思います。

※コミットした後は、自分の変更点などがちゃんと反映されているかを確認してください。
バックアップをとった後にpullしてみたり、githubでコミットの履歴を見るなどして確認してください。


5.以上で基本的な操作の説明は終わりですが、より有効に使うためにはgitの仕組みを大まかに理解したり、
以前のバージョンへの戻し方など知っていた方がいいと思います。
数日中にそのあたりも少し追記したいと思います。

それ以後は、使っている間に必要に応じて各自で調べるということで

上の1.の説明にあったURLのサイトにチュートリアルがあるので見るといいかもしれません(by y_som)


(追記)

・gitで過去のバージョンのファイルを参照する場合

僕が調べたものは面倒くさいのでもっといい方法があるかもしれませんが、一応紹介しておきます

checkoutコマンドを使います。gitでは各コミットに英数字列が対応付けられているので、それをhttps://github.com/cpumul4/cpuex/commits/master等で確認して、それを[hash]のところに置き換えてください

git checkout [hash]

ここで注意点が二つ

1.このcheckoutというコマンドはgitのHEADというパラメータを変更しているので、このままpullやpushはできません。
次のコマンドで元に戻ります

git checkout master

2.上のコマンドを使って元に戻すので、参照したファイルをそのまま編集してコミットすることはできません。
参照したときにコピーしておくなどして使ってください

※次の用にオプションを使えば、HEADを変えずに特定のファイルに対して前のバージョンに戻すことができるようです。これならおそらくこのまま編集してコミットできます

git checkout -f [hash] [file]

※ローカルコミットする前に、ローカルでの変更を取り消して元に戻す場合は次のコマンドでできるようです。

git checkout .


・gitについて

gitについて簡単に説明します。間違った独自解釈があるかもしれませんので、注意してください

まずgitのこれまでのコミットの履歴など情報は、git initなどをすると.gitというディレクトリができると思いますが、すべてここに入っています。つまりネットで共有のgithubのレポジトリに繋げなくても、過去のコミットなどを見ることはできます。ではコミットのときのコマンドのそれぞれの意味を解説します

commit -am ですが、これはadd とcommit -m に分けることができます。

add [file] は、変更点をコミットするファイルを指定します。上の説明では、この代わりにcommitの-aオプションで全てのファイルを指定しています
commit -m は、addで追加したファイルをコミットし、ローカルでのgitの情報を書き換えます。この時点では、まだオフラインです。

push -u origin master でgithub上の共有レポジトリに変更を送ります。

pull はpull origin masterの略です。pushの逆だと思ってください


以上で終わりです

他にも、ブランチのフォーク、マージや競合の解消などもありますが、おそらく必要になることはないと思います。ただ上に説明したようにgitでは基本的に、ローカルにも全ての人の全ての変更の履歴が入っているので、今後容量が大きくなってくるかもしれません。手元のPCの容量が圧迫しているとか、問題がある場合はブランチなどについて調べて、自分の必要なファイルだけを扱うようにしてもいいかもしれません


